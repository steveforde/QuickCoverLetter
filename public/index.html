<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QuickCoverLetter</title>
  <link rel="stylesheet" href="style.css" />

  <!-- âœ… App Branding -->
  <link rel="icon" type="image/png" href="/icon.png">
  <link rel="apple-touch-icon" href="/icon.png">

  <!-- âœ… Splash Screen -->
  <link rel="apple-touch-startup-image" href="/splash.png">
  <meta name="theme-color" content="#0070f3">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  
  <!-- Load Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
  <!-- ðŸ”¹ Banner -->
  <header class="hero">
    <div class="hero-content">
      <h1>ðŸš€ QuickCoverLetter</h1>
      <p>Create clean, personalized cover letters in seconds.</p>
    </div>

    <!-- âœ… Theme toggle -->
    <button id="themeToggle" class="theme-btn" aria-label="Toggle dark mode">
        <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
    </button>
  </header>

  <div id="toast" class="toast hidden"></div>

  <main>
    <form id="form" class="form-box">
      <label for="jobTitle">Job Title</label>
      <input type="text" id="jobTitle" placeholder="e.g. Developer" required>

      <label for="companyName">Company Name</label>
      <input type="text" id="companyName" placeholder="e.g. Google" required>

      <label for="userName">Your Name</label>
      <input type="text" id="userName" placeholder="e.g. John Smith" required>
      
      <!-- ADDED: Crucial email for payment check -->
      <label for="userEmail">Your Email</label>
      <input type="email" id="userEmail" placeholder="e.g. you@email.com" required>

      <!-- ADDED: Crucial resume text for personalization -->
      <label for="resumeText">Relevant Experience & Skills (Paste key points from your resume)</label>
      <textarea id="resumeText" rows="6" placeholder="e.g. 5 years experience in React and Node.js. Led 3 major projects, achieving 20% efficiency gain. Excellent communication skills." required></textarea>

      <p id="validation-message" class="text-sm error-text hidden">Please fill out all fields.</p>

      <button id="payButton" type="button" class="pay-btn" disabled>
          <span class="pay-icon"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-credit-card"><rect width="22" height="16" x="2" y="4" rx="2"/><path d="M2 10h20"/><path d="M7 15h.01"/><path d="M11 15h2"/></svg></span> 
          <span class="pay-text">Pay â‚¬1.99 to Unlock</span>
      </button>
    </form>

    <!-- ðŸ”¸ Template Selection -->
    <div class="template-buttons">
      <div class="template-option">
        <button class="template-btn active" data-type="professional">Professional</button>
        <small>Clean and confident â€” ideal for corporate or tech roles or gov.</small>
      </div>

      <div class="template-option">
        <button class="template-btn" data-type="formal">Formal</button>
        <small>Traditional and respectful â€” great for finance senior positions or legal positions.</small>
      </div>

      <div class="template-option">
        <button class="template-btn" data-type="friendly">Friendly</button>
        <small>Warm and approachable â€” suited to customer-facing jobs or customer support roles.</small>
      </div>

      <div class="template-option">
        <button class="template-btn" data-type="artistic">Artistic</button>
        <small>Creative and expressive â€” perfect for design or marketing roles or any creative positions.</small>
      </div>
    </div>

    <!-- ðŸ”¸ Spinner -->
    <div id="spinner" class="spinner-container hidden">
      <div class="spin"></div>
      <span>Generating your letter...</span>
    </div>

    <!-- ðŸ”¸ Result Box -->
    <div id="resultBox" class="result-box hidden">
      <h2>Your Cover Letter</h2>
      <textarea id="coverLetter" readonly></textarea>

      <div class="result-buttons">
          <button id="copyBtn" class="action-btn">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1-1.1-2.4-2.4-4-4v-4c0-1.1.9-2 2-2h4c1.1 0 2.4.9 4 2"/></svg>
              Copy
          </button>
          <button id="clearBtn" class="action-btn">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash-2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M10 11v6"/><path d="M14 11v6"/><path d="M14 6v-2c0-1-1-2-2-2h-4c-1 0-2 1-2 2v2"/></svg>
              Clear
          </button>
          <button id="downloadBtn" class="pay-btn action-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10 9H8"/><path d="M16 13H8"/><path d="M16 17H8"/></svg>
          <span class="btn-text">Download PDF</span>
          </button>
      </div>

    </div>
  </main>

  <footer>
  <p>Â© 2025 <strong>QuickCoverLetter</strong> â€” Crafted in Ireland ðŸ‡®ðŸ‡ª | <a href="mailto:support@quickcoverletter.com">Contact Support</a></p>
</footer>

  <!-- jsPDF for PDF download -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
